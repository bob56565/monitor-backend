{
  "schema_version": "1.0.0",
  "last_updated": "2026-02-02",
  "algorithms": {
    "cardiovascular": {
      "ascvd_10yr_risk": {
        "name": "ASCVD 10-Year Risk Calculator",
        "source": "ACC/AHA 2013 (Pooled Cohort Equations)",
        "purpose": "Estimate 10-year risk of atherosclerotic cardiovascular disease",
        "applicable_population": "Adults 40-79 without known ASCVD",
        "inputs": [
          {"name": "age", "type": "number", "unit": "years", "range": [40, 79]},
          {"name": "sex", "type": "enum", "values": ["male", "female"]},
          {"name": "race", "type": "enum", "values": ["white", "african_american", "other"]},
          {"name": "total_cholesterol", "type": "number", "unit": "mg/dL"},
          {"name": "hdl_cholesterol", "type": "number", "unit": "mg/dL"},
          {"name": "systolic_bp", "type": "number", "unit": "mmHg"},
          {"name": "on_bp_treatment", "type": "boolean"},
          {"name": "diabetes", "type": "boolean"},
          {"name": "smoker", "type": "boolean"}
        ],
        "output": {
          "type": "percentage",
          "interpretation": {
            "low": {"range": [0, 5], "description": "Low risk"},
            "borderline": {"range": [5, 7.5], "description": "Borderline risk"},
            "intermediate": {"range": [7.5, 20], "description": "Intermediate risk"},
            "high": {"range": [20, 100], "description": "High risk"}
          }
        },
        "risk_enhancing_factors": [
          "Family history premature ASCVD",
          "LDL-C ≥160 mg/dL",
          "Metabolic syndrome",
          "CKD",
          "Chronic inflammatory conditions",
          "High-risk ethnicity (South Asian)",
          "Premature menopause",
          "Preeclampsia history",
          "Elevated Lp(a) ≥50 mg/dL or ≥125 nmol/L",
          "Elevated hs-CRP ≥2 mg/L",
          "Elevated ApoB ≥130 mg/dL",
          "Ankle-brachial index <0.9"
        ],
        "pmid": ["24222018"]
      },
      "framingham_risk_score": {
        "name": "Framingham Risk Score",
        "source": "Framingham Heart Study",
        "purpose": "10-year CHD risk",
        "inputs": [
          {"name": "age", "type": "number"},
          {"name": "sex", "type": "enum", "values": ["male", "female"]},
          {"name": "total_cholesterol", "type": "number", "unit": "mg/dL"},
          {"name": "hdl_cholesterol", "type": "number", "unit": "mg/dL"},
          {"name": "systolic_bp", "type": "number", "unit": "mmHg"},
          {"name": "on_bp_treatment", "type": "boolean"},
          {"name": "smoker", "type": "boolean"}
        ]
      },
      "mesa_cac_score": {
        "name": "MESA CAC Risk Score",
        "source": "Multi-Ethnic Study of Atherosclerosis",
        "purpose": "Incorporates coronary artery calcium score",
        "note": "Use when CAC score available to refine ASCVD risk"
      },
      "reynolds_risk_score": {
        "name": "Reynolds Risk Score",
        "purpose": "Includes hs-CRP and family history",
        "inputs": [
          {"name": "age", "type": "number"},
          {"name": "sex", "type": "enum"},
          {"name": "systolic_bp", "type": "number"},
          {"name": "total_cholesterol", "type": "number"},
          {"name": "hdl_cholesterol", "type": "number"},
          {"name": "hs_crp", "type": "number", "unit": "mg/L"},
          {"name": "smoker", "type": "boolean"},
          {"name": "family_history_mi_before_60", "type": "boolean"},
          {"name": "hba1c", "type": "number", "note": "for diabetics"}
        ]
      }
    },
    "diabetes": {
      "ada_diabetes_risk_test": {
        "name": "ADA Type 2 Diabetes Risk Test",
        "source": "American Diabetes Association",
        "purpose": "Screen for prediabetes/diabetes risk",
        "inputs": [
          {"name": "age", "type": "enum", "values": ["<40", "40-49", "50-59", "≥60"], "points": [0, 1, 2, 3]},
          {"name": "sex", "type": "enum", "values": ["female", "male"], "points": [0, 1]},
          {"name": "gestational_diabetes_history", "type": "boolean", "points_if_true": 1, "female_only": true},
          {"name": "family_history_diabetes", "type": "boolean", "points_if_true": 1},
          {"name": "high_blood_pressure", "type": "boolean", "points_if_true": 1},
          {"name": "physically_active", "type": "boolean", "points_if_false": 1},
          {"name": "bmi_category", "type": "enum", "values": ["<25", "25-29.9", "30-39.9", "≥40"], "points": [0, 1, 2, 3]}
        ],
        "output": {
          "type": "score",
          "interpretation": {
            "low": {"range": [0, 4], "description": "Low risk"},
            "high": {"range": [5, 9], "description": "High risk - should be screened"}
          }
        }
      },
      "homa_ir": {
        "name": "HOMA-IR (Insulin Resistance)",
        "formula": "(fasting_glucose_mg_dL × fasting_insulin_uIU_mL) / 405",
        "inputs": [
          {"name": "fasting_glucose", "unit": "mg/dL"},
          {"name": "fasting_insulin", "unit": "µIU/mL"}
        ],
        "interpretation": {
          "normal": {"range": [0, 1.9]},
          "early_ir": {"range": [2.0, 2.9]},
          "significant_ir": {"range": [3.0, 100]}
        }
      },
      "tg_hdl_ratio": {
        "name": "TG/HDL Ratio",
        "purpose": "Simple surrogate for insulin resistance",
        "formula": "triglycerides / hdl_cholesterol",
        "interpretation": {
          "ideal": {"range": [0, 2]},
          "acceptable": {"range": [2, 3]},
          "elevated": {"range": [3, 100], "suggests": "insulin resistance likely"}
        }
      }
    },
    "kidney": {
      "egfr_ckd_epi_2021": {
        "name": "CKD-EPI 2021 (Race-Free)",
        "source": "CKD-EPI Collaboration 2021",
        "purpose": "Estimate GFR without race variable",
        "inputs": [
          {"name": "creatinine", "unit": "mg/dL"},
          {"name": "age", "unit": "years"},
          {"name": "sex", "type": "enum", "values": ["male", "female"]}
        ],
        "output": {
          "unit": "mL/min/1.73m²"
        },
        "staging": {
          "G1": {"range": [90, null], "description": "Normal or high"},
          "G2": {"range": [60, 89], "description": "Mildly decreased"},
          "G3a": {"range": [45, 59], "description": "Mild-moderate decrease"},
          "G3b": {"range": [30, 44], "description": "Moderate-severe decrease"},
          "G4": {"range": [15, 29], "description": "Severely decreased"},
          "G5": {"range": [0, 14], "description": "Kidney failure"}
        },
        "pmid": ["34272381"]
      },
      "uacr_staging": {
        "name": "Albuminuria Categories",
        "inputs": [
          {"name": "urine_albumin", "unit": "mg/L"},
          {"name": "urine_creatinine", "unit": "g/L"}
        ],
        "formula": "urine_albumin / urine_creatinine",
        "output": {"unit": "mg/g"},
        "staging": {
          "A1": {"range": [0, 30], "description": "Normal to mildly increased"},
          "A2": {"range": [30, 300], "description": "Moderately increased (microalbuminuria)"},
          "A3": {"range": [300, null], "description": "Severely increased (macroalbuminuria)"}
        }
      },
      "kdigo_prognosis_grid": {
        "name": "KDIGO CKD Prognosis Grid",
        "purpose": "Combines GFR and albuminuria for risk stratification",
        "categories": {
          "low_risk": "G1-G2 + A1",
          "moderate_risk": "G1-G2 + A2, OR G3a + A1",
          "high_risk": "G1-G2 + A3, OR G3a + A2, OR G3b + A1",
          "very_high_risk": "G3a + A3, OR G3b + A2-A3, OR G4-G5"
        }
      }
    },
    "liver": {
      "fib4_score": {
        "name": "FIB-4 Index",
        "purpose": "Non-invasive fibrosis assessment in NAFLD",
        "formula": "(age × AST) / (platelets × √ALT)",
        "inputs": [
          {"name": "age", "unit": "years"},
          {"name": "ast", "unit": "U/L"},
          {"name": "alt", "unit": "U/L"},
          {"name": "platelets", "unit": "10^9/L"}
        ],
        "interpretation": {
          "low_risk": {"range": [0, 1.3], "description": "Low probability of advanced fibrosis"},
          "indeterminate": {"range": [1.3, 2.67], "description": "Further evaluation needed"},
          "high_risk": {"range": [2.67, 100], "description": "High probability of advanced fibrosis"}
        },
        "age_adjusted": {
          "over_65": {
            "low_risk": [0, 2.0],
            "high_risk": [2.67, null]
          }
        }
      },
      "nafld_fibrosis_score": {
        "name": "NAFLD Fibrosis Score",
        "purpose": "Identify NAFLD patients with advanced fibrosis",
        "inputs": [
          {"name": "age", "unit": "years"},
          {"name": "bmi", "unit": "kg/m²"},
          {"name": "diabetes", "type": "boolean"},
          {"name": "ast", "unit": "U/L"},
          {"name": "alt", "unit": "U/L"},
          {"name": "platelets", "unit": "10^9/L"},
          {"name": "albumin", "unit": "g/dL"}
        ],
        "interpretation": {
          "low_risk": {"threshold": "<-1.455", "description": "F0-F2"},
          "indeterminate": {"range": [-1.455, 0.676]},
          "high_risk": {"threshold": ">0.676", "description": "F3-F4"}
        }
      },
      "meld_score": {
        "name": "MELD Score",
        "purpose": "Assess severity of chronic liver disease",
        "formula": "3.78×ln(bilirubin) + 11.2×ln(INR) + 9.57×ln(creatinine) + 6.43",
        "inputs": [
          {"name": "total_bilirubin", "unit": "mg/dL"},
          {"name": "inr", "unit": "ratio"},
          {"name": "creatinine", "unit": "mg/dL"},
          {"name": "dialysis", "type": "boolean", "note": "if yes, creatinine = 4.0"}
        ],
        "use": "Liver transplant prioritization"
      },
      "child_pugh_score": {
        "name": "Child-Pugh Score",
        "purpose": "Classify severity of cirrhosis",
        "inputs": [
          {"name": "total_bilirubin", "points": {"<2": 1, "2-3": 2, ">3": 3}},
          {"name": "albumin", "points": {">3.5": 1, "2.8-3.5": 2, "<2.8": 3}},
          {"name": "inr", "points": {"<1.7": 1, "1.7-2.3": 2, ">2.3": 3}},
          {"name": "ascites", "points": {"none": 1, "mild": 2, "moderate-severe": 3}},
          {"name": "encephalopathy", "points": {"none": 1, "grade_1-2": 2, "grade_3-4": 3}}
        ],
        "interpretation": {
          "class_A": {"range": [5, 6], "1yr_survival": "100%"},
          "class_B": {"range": [7, 9], "1yr_survival": "80%"},
          "class_C": {"range": [10, 15], "1yr_survival": "45%"}
        }
      },
      "ast_alt_ratio": {
        "name": "AST/ALT Ratio (De Ritis Ratio)",
        "formula": "AST / ALT",
        "interpretation": {
          "nafld_typical": {"range": [0, 1], "description": "AST < ALT common in NAFLD"},
          "alcoholic_or_cirrhosis": {"range": [2, 100], "description": "AST > ALT suggests alcohol or cirrhosis"}
        }
      }
    },
    "thyroid": {
      "thyroid_risk_assessment": {
        "name": "Thyroid Dysfunction Screening Logic",
        "tsh_algorithm": {
          "low_tsh": {
            "condition": "TSH < 0.4",
            "next_step": "Check free T4 and free T3",
            "if_elevated_ft4_ft3": "Hyperthyroidism",
            "if_normal_ft4_ft3": "Subclinical hyperthyroidism"
          },
          "normal_tsh": {
            "condition": "TSH 0.4-4.0",
            "interpretation": "Euthyroid (usually)"
          },
          "elevated_tsh": {
            "condition": "TSH > 4.0",
            "next_step": "Check free T4",
            "if_low_ft4": "Primary hypothyroidism",
            "if_normal_ft4": "Subclinical hypothyroidism"
          }
        }
      }
    },
    "anemia": {
      "anemia_classification": {
        "name": "Anemia Workup Algorithm",
        "by_mcv": {
          "microcytic": {
            "mcv": "<80 fL",
            "common_causes": ["iron deficiency", "thalassemia", "chronic disease", "sideroblastic"],
            "next_tests": ["iron studies", "ferritin", "reticulocyte count"]
          },
          "normocytic": {
            "mcv": "80-100 fL",
            "common_causes": ["chronic disease", "acute blood loss", "renal failure", "hemolysis", "bone marrow"],
            "next_tests": ["reticulocyte count", "LDH", "haptoglobin", "bilirubin"]
          },
          "macrocytic": {
            "mcv": ">100 fL",
            "common_causes": ["B12 deficiency", "folate deficiency", "alcohol", "liver disease", "hypothyroidism", "MDS"],
            "next_tests": ["B12", "folate", "reticulocyte count", "TSH"]
          }
        }
      },
      "iron_study_interpretation": {
        "iron_deficiency": {
          "ferritin": "low (<30)",
          "iron": "low",
          "tibc": "high",
          "transferrin_sat": "low (<20%)"
        },
        "chronic_disease": {
          "ferritin": "normal or high",
          "iron": "low",
          "tibc": "low or normal",
          "transferrin_sat": "low or normal"
        },
        "iron_overload": {
          "ferritin": "high (>300)",
          "iron": "high",
          "tibc": "low",
          "transferrin_sat": "high (>45%)"
        }
      }
    },
    "metabolic_syndrome": {
      "ncep_atp3_criteria": {
        "name": "Metabolic Syndrome Criteria",
        "source": "NCEP ATP III",
        "requires": "3 or more of 5 criteria",
        "criteria": [
          {"name": "waist_circumference", "threshold": "M ≥40 in, F ≥35 in"},
          {"name": "triglycerides", "threshold": "≥150 mg/dL"},
          {"name": "hdl_cholesterol", "threshold": "M <40, F <50 mg/dL"},
          {"name": "blood_pressure", "threshold": "≥130/85 mmHg"},
          {"name": "fasting_glucose", "threshold": "≥100 mg/dL"}
        ]
      }
    },
    "inflammation": {
      "hs_crp_cv_risk": {
        "name": "hs-CRP Cardiovascular Risk",
        "interpretation": {
          "low_risk": {"range": [0, 1], "unit": "mg/L"},
          "average_risk": {"range": [1, 3], "unit": "mg/L"},
          "high_risk": {"range": [3, 10], "unit": "mg/L"},
          "acute_inflammation": {"range": [10, null], "note": "Suggests acute process, not chronic CV risk"}
        }
      }
    }
  },
  "composite_scores": {
    "cardiometabolic_health_score": {
      "description": "Custom composite for overall metabolic health",
      "components": [
        {"biomarker": "glucose_fasting", "weight": 1},
        {"biomarker": "hba1c", "weight": 1},
        {"biomarker": "triglycerides", "weight": 1},
        {"biomarker": "hdl_cholesterol", "weight": 1, "inverse": true},
        {"biomarker": "ldl_cholesterol", "weight": 0.5},
        {"biomarker": "hs_crp", "weight": 0.5},
        {"biomarker": "waist_circumference", "weight": 1},
        {"biomarker": "blood_pressure_systolic", "weight": 1}
      ],
      "scoring": "Percentile rank each component, average for composite"
    }
  }
}
